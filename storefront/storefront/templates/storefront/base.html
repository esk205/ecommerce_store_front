<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Demo E‑Commerce – One File</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root{--primary:#1976d2;--secondary:#cfcfcf}
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto',Arial,sans-serif;
    background:#f7f7f7;color:#333;line-height:1.6
  }
  header{background:var(--primary);color:#fff;padding:1.5rem}
  header h1{margin:0;font-size:1.8rem}
  nav{margin-top:.75rem}
  nav a{color:#fff;margin-right:1.2rem;text-decoration:none}
  a:hover{text-decoration:underline}
  main{padding:2rem}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.75rem}
  .card{
      background:#fff;border-radius:.6rem;
      box-shadow:0 3px 6px rgba(0,0,0,.12);
      padding:1.5rem;   /* ↑ increased padding */
      display:flex;flex-direction:column;height:100%;justify-content:flex-start
  }
  .card img{
      width:100%;height:160px;object-fit:cover;border-radius:.6rem;flex-shrink:0
  }
  .card h3{font-size:1.1rem;margin:1rem 0 .5rem}
  .card p{font-size:.95rem;margin:.5rem 0 .75rem;flex-grow:1}
  .card button{
      background:var(--primary);color:#fff;border:none;
      padding:.75rem 1.1rem;border-radius:.35rem;
      cursor:pointer;align-self:flex-start
  }
  .card button:hover{background:#1565c0}
  /* Cart Modal */
  .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;
         background:rgba(0,0,0,.6);justify-content:center;align-items:center}
  .modal-content{
      background:#fff;border-radius:.6rem;padding:1.5rem;
      max-width:90%;max-height:80%;overflow:auto;
      box-shadow:0 4px 10px rgba(0,0,0,.15)
  }
  .modal-header{
      display:flex;justify-content:space-between;align-items:center
  }
  .modal-header h2{margin:0;font-size:1.4rem}
  .close-btn{background:none;border:none;font-size:1.7rem;cursor:pointer}
  .cart-item{
      display:flex;justify-content:space-between;align-items:center;
      border-bottom:1px solid #eee;padding:1rem 0     /* ↑ more vertical padding */
  }
  .cart-item img{height:50px;width:50px;object-fit:cover;border-radius:.25rem}
  .cart-item span{margin:0 .5rem;flex-grow:1}      /* ↑ space around text */
  .cart-item button{
      background:none;border:none;color:#d32f2f;font-size:1.2rem;cursor:pointer
  }
  .cart-total{font-weight:bold;margin-top:1rem;font-size:1.1rem}
  footer{background:#333;color:#fff;text-align:center;padding:.75rem;margin-top:2.5rem}
  @media(min-width:600px){footer{position:fixed;bottom:0;width:100%}}
</style>
</head>
<body>
<header>
  <h1>Demo Store</h1>
  <nav>
    <a href="#" id="view-cart">Cart (<span id="cart-count">0</span>)</a>
  </nav>
</header>

<main>
  <div class="grid" id="product-grid"></div>
</main>

<!-- Cart Modal -->
<div class="modal" id="cart-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Your Cart</h2>
      <button class="close-btn" id="cart-close">&times;</button>
    </div>
    <div id="cart-items"></div>
    <div id="cart-total" class="cart-total"></div>
    <button id="checkout" style="background:var(--primary);color:#fff;width:100%;padding:.6rem;margin-top:.8rem;border:none;border-radius:.35rem;cursor:pointer">
      Checkout
    </button>
  </div>
</div>

<footer>&copy; 2025 Demo Store. All rights reserved.</footer>

<script>
// ==== PRODUCT DATA (hard‑coded) ====
const PRODUCTS = [
  {
    id:1,
    name:"Vintage Camera",
    price:49.99,
    img:"https://picsum.photos/id/237/300/200"
  },
  {
    id:2,
    name:"Stylish Watch",
    price:79.99,
    img:"https://picsum.photos/id/238/300/200"
  },
  {
    id:3,
    name:"Gaming Keyboard",
    price:59.99,
    img:"https://picsum.photos/id/239/300/200"
  },
  {
    id:4,
    name:"Wireless Headphones",
    price:99.99,
    img:"https://picsum.photos/id/240/300/200"
  },
  {
    id:5,
    name:"Smartphone",
    price:699.99,
    img:"https://picsum.photos/id/241/300/200"
  },
  {
    id:6,
    name:"Mountain Bike",
    price:299.99,
    img:"https://picsum.photos/id/242/300/200"
  }
];

// ==== CART UTILITIES ====
const CART_KEY = "demo_cart";
const cart = JSON.parse(localStorage.getItem(CART_KEY) || "[]");

function persistCart() { localStorage.setItem(CART_KEY, JSON.stringify(cart)); }

function addToCart(productId){
  const prod = PRODUCTS.find(p => p.id===productId);
  if(!prod) return;
  const existing = cart.find(item => item.id===productId);
  if(existing) existing.qty++;
  else cart.push({id:productId, qty:1});
  persistCart();
  updateCartCount();
}

function removeFromCart(productId){
  const index = cart.findIndex(item=>item.id===productId);
  if(index!==-1){
    cart.splice(index,1);
    persistCart();
    updateCartCount();
  }
}

function clearCart(){ cart.length=0; persistCart(); updateCartCount(); }

function cartTotal(){
  return cart.reduce((sum,item)=>{
    const prod = PRODUCTS.find(p=>p.id===item.id);
    return sum + (prod?.price||0)*item.qty;
  },0).toFixed(2);
}

function updateCartCount(){
  const count = cart.reduce((sum,item)=>sum+item.qty,0);
  document.getElementById("cart-count").textContent = count;
}

// ==== UI RENDERING ====
function renderProducts(){
  const grid = document.getElementById("product-grid");
  grid.innerHTML = "";
  PRODUCTS.forEach(p=>{
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML = `
      <img src="${p.img}" alt="${p.name}">
      <h3>${p.name}</h3>
      <p>$${p.price.toFixed(2)}</p>
      <button data-id="${p.id}">Add to Cart</button>
    `;
    const btn = card.querySelector("button");
    btn.addEventListener("click", ()=>addToCart(p.id));
    grid.appendChild(card);
  });
}

function renderCartModal(){
  const itemsDiv = document.getElementById("cart-items");
  itemsDiv.innerHTML = "";
  cart.forEach(item=>{
    const prod = PRODUCTS.find(p=>p.id===item.id);
    const div = document.createElement("div");
    div.className="cart-item";
    div.innerHTML = `
      <img src="${prod.img}" alt="${prod.name}">
      <span>${prod.name} x${item.qty}</span>
      <span>$${(prod.price*item.qty).toFixed(2)}</span>
      <button data-id="${item.id}">✕</button>
    `;
    div.querySelector("button").addEventListener("click",()=>removeFromCart(item.id));
    itemsDiv.appendChild(div);
  });
  document.getElementById("cart-total").textContent = `Total: $${cartTotal()}`;
}

// ==== EVENT LISTENERS ====
document.getElementById("view-cart").addEventListener("click", e=>{
  e.preventDefault();
  renderCartModal();
  document.getElementById("cart-modal").style.display="flex";
});

document.getElementById("cart-close").addEventListener("click", ()=>{
  document.getElementById("cart-modal").style.display="none";
});

document.getElementById("checkout").addEventListener("click", ()=>{
  alert(`Checkout for $${cartTotal()} - (simulation)`);
  clearCart();
  document.getElementById("cart-modal").style.display="none";
});

window.addEventListener("click", e=>{
  if(e.target.id==="cart-modal") document.getElementById("cart-modal").style.display="none";
});

// ==== INITIALIZE ====
renderProducts();
updateCartCount();
</script>
</body>
</html>
